<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASHA CHESS</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="app-wrapper">
        <div class="top-nav">
            <h1 class="game-title">ASHA CHESS</h1>
            <div class="nav-buttons">
                <button id="manifest-btn" class="nav-button">MANIFEST</button>
                <button id="rules-btn" class="nav-button">RULES</button>
            </div>
        </div>

        <div class="main-container">
            <div class="move-history-sidebar">
                <h3>Move History</h3>
                <div id="move-history-list">
                    </div>
            </div>

            <div class="center-game-area">
                <div class="board-container">
                    <div id="chessboard"></div>
                </div>

                <div class="game-controls">
                    <button id="reset-button" class="reset-btn">Reset Game</button>
                </div>
            </div>

            <div class="right-side-panel">
                <div class="game-status">
                    <div class="turn-indicator">
                        <span>Turn: </span>
                        <span id="turn" class="turn-text">White</span>
                    </div>
                    <div id="check-status" class="check-status"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="manifest-popup" class="popup-overlay">
        <div class="popup-content">
            <button class="popup-close" onclick="document.getElementById('manifest-popup').classList.remove('active')">&times;</button>
            <h2>ASHA CHESS: A Manifesto for a New Era</h2>
            <div class="manifest-content">
                <p>Today, the grand game of chess is suffocating. Its infinite possibilities are chained by rote memorization, its soul traded for the cold precision of scripted openings. We watch the world's greatest players, and too often, we see not human creativity, but the ghost of an AI, their moves echoing the predictability of a machine. The very essence of chess—the clash of unique minds—is fading.</p>
                
                <p>It has been said that "chess is a mirror to life," and traditional chess was a perfect reflection of its time: a world of rigid hierarchies, where each piece had a strictly defined role. But our world has changed.</p>
                
                <p>The modern era, born from the fires of revolution and built on the ideals of democracy and universal rights, presents us with a new paradigm. It suggests, even if only as a beautiful illusion, that all individuals possess a fundamental freedom of movement. ASHA CHESS embraces this with a postmodern touch, asking a simple yet profound question: What if every piece on the board was granted the right to move like a king?</p>
                
                <p>In ASHA CHESS, we do not erase tradition; we build upon it. The "King's Step"—a single-square move in any direction—is now bestowed upon Pawns, Knights, Bishops, and Rooks. However, their methods of capture remain classic, tied to their unique histories. This creates a breathtaking new dynamic. A Bishop, no longer confined to a single color, can now step onto a neighboring square, reflecting a world where even the most rigid dogmas can evolve. The Pawn, once a fated foot soldier, becomes an unpredictable force, capable of both subtle repositioning and sudden threats.</p>
                
                <p>Our goal is to resurrect the spirit of players like Mikhail Tal, Rashid Nezhmetdinov, and Joseph Blackburne—artists who played with character, whose moves were a signature of their very being. We should not see AI-approved lines when we look at Magnus Carlsen; we should see Magnus. Chess must be a canvas for grand strategies and profound, personal expression.</p>
                
                <p>I am not a grandmaster, but a deep lover of the game, and I despise an opponent who merely recites from a book. ASHA CHESS is my proposal to restore the game's depth and dynamism. I do not claim to have uncovered its full potential; that is a journey we must take together. This is an invitation to experiment, to criticize, and to play.</p>
                
                <p>For too long, the art of chess has resembled a Renaissance painting—a masterpiece, yes, but one forever bound by the fixed algorithms of perspective and form.</p>
                
                <p>Together, let's usher in its next great movement.</p>
                
                <p><em>By Osman Derviş Kıtay <a href="https://x.com/AiDervish" target="_blank">@AiDervish</a></em></p>
            </div>
        </div>
    </div>

    <div id="rules-popup" class="popup-overlay">
        <div class="popup-content">
            <button class="popup-close" onclick="document.getElementById('rules-popup').classList.remove('active')">&times;</button>
            <h2>Game Rules</h2>
            <div class="rules-content">
                <h3>Main Principle: "King's Step" (For Movement Only)</h3>
                <p>Pawns, Knights, Bishops, and Rooks gain a new ability called the "King's Step" in addition to their classic movements.</p>
                <p>The "King's Step" is a one-square movement in any direction (horizontal, vertical, diagonal).</p>
                <p><strong>Important:</strong> This "King's Step" move CANNOT be used to capture opponent pieces.</p>
                <p><strong>Note:</strong> Kings and Queens DO NOT have this ability as they can already move in all directions.</p>
                
                <h3>Capturing Rules</h3>
                <p>Capturing actions remain UNCHANGED. A piece can capture an opponent's piece only using its traditional attack method:</p>
                <ul>
                    <li><strong>Pawn:</strong> Can only capture diagonally forward</li>
                    <li><strong>Knight:</strong> Can only capture at the end of its "L" move</li>
                    <li><strong>Bishop:</strong> Can only capture diagonally</li>
                    <li><strong>Rook:</strong> Can only capture horizontally or vertically</li>
                </ul>
                
                <h3>Board Highlights</h3>
                <ul>
                    <li><span class="highlight green"></span> Valid movement squares</li>
                    <li><span class="highlight blue"></span> Valid King's Step movement squares</li>
                    <li><span class="highlight orange"></span> Valid capturing squares</li>
                    <li><span class="highlight red"></span> Pieces in check</li>
                    <li><span class="highlight yellow"></span> Last move (from/to)</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/chess.js') }}"></script>
</body>
</html>